{
  "steps": [
    {
      "id": "checkout_repo",
      "timeout": "300s",
      "args": [
	"fetch",
	"--depth=200"
      ],
      "name": "gcr.io/cloud-builders/git"
    },
    {
      "args": [
	"-j",
	"deps"
      ],
      "env": [
	"GOPATH=/go"
      ],
      "entrypoint": "make",
      "timeout": "300s",
      "name": "gcr.io/cloud-builders/go",
      "id": "deps"
    },
    {
      "args": [
	"-j",
	"linux-xp-launcher",
	"linux-xp-extension",
	"linux-xp-grpc-extension"
      ],
      "entrypoint": "make",
      "timeout": "600s",
      "name": "gcr.io/cloud-builders/go",
      "waitFor": [
	"checkout_repo",
	"deps"
      ],
      "id": "build"
    },
    {
      "args": [
	"-j",
	"lint"
      ],
      "entrypoint": "make",
      "timeout": "600s",
      "name": "gcr.io/cloud-builders/go",
      "waitFor": [
	"checkout_repo",
	"deps"
      ],
      "id": "lint"
    },
    {
      "name": "gcr.io/cloud-builders/docker",
      "args": [
	"-j",
	"build-docker"
      ],
      "entrypoint": "make",
      "id": "build-docker",
      "waitFor": [
	"lint",
	"build"
      ]
    },
    {
      "name": "gcr.io/cloud-builders/docker",
      "id": "build-dockerfake",
      "entrypoint": "make",
      "args": [
	"-j",
	"build-dockerfake"
      ],
      "waitFor": [
	"lint",
	"build"
      ]
    }
  ]
}